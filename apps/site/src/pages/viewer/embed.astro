---
// Lightweight embed route: full-bleed iframe to the static viewer.
const demoModel = "/3dss/sample/core_viewer_baseline.3dss.json";
const sp = Astro.url.searchParams;
const model = sp.get("model") || sp.get("src") || demoModel;
const iframeSrc = `/viewer/index.html?model=${encodeURIComponent(model)}`;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>3DSL Viewer (embed)</title>
    <style>
      html, body { height: 100%; margin: 0; background: #000; overflow: hidden; }
      iframe { width: 100%; height: 100%; border: 0; display: block; }
    </style>
  </head>
  <body>
    <iframe src={iframeSrc} allowfullscreen loading="eager"></iframe>
  </body>
</html>
